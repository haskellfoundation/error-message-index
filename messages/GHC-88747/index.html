<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Precedence parsing error [GHC-88747] — Haskell Error Index</title>
  <link rel="stylesheet" href="../../css/highlight.css">
  <script src="../../js/highlight.min.js"></script>
  <link rel="stylesheet" href="../../css/default.css" />
  <link rel="stylesheet" href="../../css/theme.css" />
</head>

<body>
  <main role="main">
    <nav class="breadcrumb">
      
      <a href="../../">The Haskell Error Index</a>&nbsp;»
      
      Precedence parsing error [GHC-88747]
    </nav>
    <h1>Precedence parsing error [GHC-88747]</h1>
    

<p>Haskell widely uses operators such as <code>($)</code>, <code>(.)</code> and <code>(-)</code> and allows users to define their own. If multiple operators are used in the same expression without brackets, it might be unclear to GHC in which order to apply them, even in the presence of fixity declarations such as <code>infix</code> / <code>infixl</code> / <code>infixr</code>.</p>
<p>The most robust way to disambiguate parsing is to add brackets.</p>



<h2>Examples</h2>

<details open="open">
  <summary>Unary minus mixed with multiplication</summary>
  <div class="details-inner">
    <pre><code>Main.hs:1:8: error: [GHC-88747]
    Precedence parsing error
        cannot mix ‘*’ [infixl 7] and prefix `-' [infixl 6] in the same infix expression
  |
1 | main = print $ 5 * -3
  |        ^^^^^^^^^^^^^^</code></pre>
<p>The most general solution is to add brackets: <code>5 * (-3)</code>.</p>
<p>If one of the clashing operators is unary minus, consider replacing it with <code>negate</code>: <code>5 * negate 3</code>. Another possibility is to enable <a href="https://ghc.gitlab.haskell.org/ghc/doc/users_guide/exts/lexical_negation.html"><code>{-# LANGUAGE LexicalNegation #-}</code></a> or <a href="https://ghc.gitlab.haskell.org/ghc/doc/users_guide/exts/negative_literals.html"><code>{-# LANGUAGE NegativeLiterals #-}</code></a>, which makes <code>-</code> bind to <code>3</code> as early as possible, eliminating the ambiguity.</p>

<pre class="filename">Main.hs</pre>
<div class="example-container">
  <div class="example">
    <div class="example-inner">
      <div class="example-title">Before</div>
      <!-- keep next line as is, i.e., on one line, or the code will not format properly -->
      <pre class="example-pre"><code class="language-haskell">main = print $ 5 * -3
</code></pre>
    </div>
  </div>
  <div class="example">
    <div class="example-inner">
      <div class="example-title">After</div>
      <!-- keep next line as is, i.e., on one line, or the code will not format propertly -->
      <pre class="example-pre"><code class="language-haskell">main = print $ 5 * (-3)
</code></pre>
    </div>
  </div>
</div>


  </div>
</details>



  </main>

  <footer>
    <p class="HF foot">
      This site is a project of <a href="https://haskell.foundation" target="_blank" rel="noopener noreferrer">The
        Haskell Foundation</a>.
    </p>
    <p class="shoutout foot">
      Site proudly generated by
      <a href="http://jaspervdj.be/hakyll" target="_blank" rel="noopener noreferrer">Hakyll</a>
    </p>
  </footer>

  <script>document.querySelectorAll('code.language-haskell').forEach(el => {
      hljs.highlightElement(el);
    });</script>
</body>

</html>
